it('should handle errors in the catch block for searchAggregate', () => {
  const formGroup = new FormGroup({});
  const serviceName = 'testService';

  spyOn(console, 'error'); // Spy on console.error

  service.searchAggregate(formGroup, serviceName).subscribe({
    next: () => fail('Expected an error, not a success'),
    error: () => {
      // Expect the error to be logged
      expect(console.error).toHaveBeenCalledWith('Error:', jasmine.anything());
    }
  });

  // Simulate an HTTP error
  const req = httpMock.expectOne('http://localhost:3000/testService/searchAggregate/');
  req.error(new ErrorEvent('Network error'), { status: 500 });

  httpMock.verify(); // Ensure no pending HTTP requests
});
